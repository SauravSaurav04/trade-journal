<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Add Trade - Trade Tracker</title>
    <link rel="stylesheet" href="../styles/style.css"/>
    <link rel="stylesheet" href="../styles/add-trade.css"/>
    <script src="../scripts/include.js" defer></script>
    <script>
        // Set today's date as default
        document.addEventListener("DOMContentLoaded", () => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById("tradeDate").value = today;
        });
    </script>
</head>
<body>

<!-- NAVBAR -->
<div data-include="partials/navbar.html"></div>

<!-- ADD TRADE FORM SECTION -->
<section class="form-section">
    <h2>Add New Trade</h2>
    <form action="/trades" method="POST" class="trade-form" enctype="multipart/form-data">
        <div class="form-group">
            <label for="tradeDate">Date of Trade</label>
            <input type="date" id="tradeDate" name="tradeDate" required/>
        </div>

        <div class="form-group">
            <label for="instrument">Instrument Name</label>
            <select id="instrument" name="instrument" required>
                <option value="Gold" selected>Gold</option>
                <option value="BTC">BTC</option>
                <option value="ETH">ETH</option>
                <option value="USD/CAD">USD/CAD</option>
                <option value="USD/JPY">USD/JPY</option>
                <option value="USD/CHF">USD/CHF</option>
                <option value="EUR/USD">EUR/USD</option>
                <option value="AUD/USD">AUD/USD</option>
                <option value="GBP/USD">GBP/USD</option>
            </select>
        </div>

        <div class="form-group">
            <label for="tradeType">Trade Type</label>
            <select id="tradeType" name="tradeType" required>
                <option value="BUY" selected>Buy</option>
                <option value="SELL">Sell</option>
            </select>
        </div>

        <div class="form-group">
            <label for="entryPrice">Entry Price</label>
            <input type="number" id="entryPrice" name="entryPrice" step="0.01" required/>
        </div>

        <div class="form-group">
            <label for="exitPrice">Exit Price</label>
            <input type="number" id="exitPrice" name="exitPrice" step="0.01" required/>
        </div>

        <div class="form-group">
            <label for="stopLoss">Stop Loss</label>
            <input type="number" id="stopLoss" name="stopLoss" step="0.01"/>
        </div>

        <div class="form-group">
            <label for="takeProfit">Take Profit</label>
            <input type="number" id="takeProfit" name="takeProfit" step="0.01"/>
        </div>

        <div class="form-group">
            <label for="quantity">Quantity</label>
            <input type="number" id="quantity" name="quantity" step="1" required/>
        </div>

        <div class="form-group">
            <label for="positionSize">Risk</label>
            <input type="number" id="positionSize" name="positionSize" step="0.01"/>
        </div>

        <div class="form-group">
            <label for="strategy">Strategy Used</label>
            <input type="text" id="strategy" name="strategy" placeholder="e.g. Breakout, Scalping"/>
        </div>

        <div class="form-group">
            <label for="entryReason">Entry Reason</label>
            <textarea id="entryReason" name="entryReason" rows="3"
                      placeholder="Why did you enter this trade?"></textarea>
        </div>

        <div class="form-group">
            <label for="exitReason">Exit Reason</label>
            <textarea id="exitReason" name="exitReason" rows="3" placeholder="Why did you exit this trade?"></textarea>
        </div>

        <div class="form-group">
            <label for="pnl">Profit/Loss</label>
            <input type="number" id="pnl" name="pnl" step="0.01"/>
        </div>

        <div class="form-group">
            <label for="emotion">Emotional State</label>
            <select id="emotion" name="emotion">
                <option value="Calm" selected>Calm</option>
                <option value="Anxious">Anxious</option>
                <option value="Confident">Confident</option>
            </select>
        </div>

        <div class="form-group">
            <label for="discipline">Discipline Score (1â€“10)</label>
            <div style="display: flex; align-items: center; gap: 10px;">
                <input type="range" id="discipline" name="discipline" min="0" max="10" step="1" value="5"
                       oninput="document.getElementById('disciplineValue').innerText = this.value">
                <span id="disciplineValue">5</span>
            </div>
        </div>

        <div class="form-group">
            <label for="mistakes">Mistakes Made</label>
            <textarea id="mistakes" name="mistakes" rows="3" placeholder="What could you have done better?"></textarea>
        </div>

        <div class="form-group">
            <label for="entryChartScreenshot">Entry Chart Screenshot</label>
            <input type="file" id="entryChartScreenshot" name="entryChartScreenshot" accept="image/*"/>
        </div>

        <div class="form-group">
            <label for="exitChartScreenshot">Exit Chart Screenshot</label>
            <input type="file" id="exitChartScreenshot" name="exitChartScreenshot" accept="image/*"/>
        </div>

        <div class="form-group">
            <label for="notes">Additional Notes</label>
            <textarea id="notes" name="notes" rows="4" placeholder="Any other observations?"></textarea>
        </div>

        <button type="submit" class="submit-button">Save Trade</button>
    </form>
</section>

<!-- FOOTER -->
<div data-include="partials/footer.html"></div>

</body>
</html>